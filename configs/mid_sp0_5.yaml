#中期（1–3 天）：示例以 5m bar 为例，horizon_bars=78 即 1.5 天

data:
  
  # 数据源类型: csv | mysql | api
  source_type: mysql  # 改为 'csv' 使用CSV文件
  
  # CSV配置（当source_type=csv时使用）
  csv:
    input_csv: examples/rb0.csv
    timestamp_col: datetime
    ticker_col: ticker
    
  # MySQL配置（当source_type=mysql时使用）
  mysql:
    host: 
    port: 3306
    user: root
    password:   # 建议使用环境变量
    database: akshare_data
    charset: utf8mb4
    table_name: raw_futures_zh_minute_sina
    
    # 查询参数
    query:
      tickers: [SP0]  # 可以查询多个品种
      freqs: [5]
      start_date: "2025-08-01 00:00:00"
      end_date: "2025-10-20 23:59:59"


    # 列名映射（如果数据库列名不同）
    columns_mapping:
      trade_datetime: timestamp
      param_symbol: ticker
      param_period: freq
      open_price: open  # 如果列名相同则不需要映射
      high_price: high
      low_price: low
      close_price: close
      # volume: volume
  
  # API配置（当source_type=api时使用）
  api:
    adapter: akshare  # yfinance | alpha_vantage | finnhub | twelvedata | akshare
    symbols: [RB0]
    interval: 1min
    period: 30  # 天数
  
  # 通用配置
  ohlcv_cols: [open, high, low, close, volume]
  freq: 5min
  train_test_split_date: 2025-10-12 15:00:00 # 示例

features:
  rsi_periods: [14]
  macd: [12, 26, 9]
  sma_windows: [5, 10, 20, 60]
  ema_windows: [5, 10, 20, 60]
  vol_windows: [10, 20, 60]
  bb_window: 20
  bb_k: 2.0
  parkinson_window: 20
  cross_asset: [] # 可填外部品种close列路径或预处理结果

label:
  horizon_bars: 78 # ～1.5天 （按5m）
  label_type: "binary" # binary|trinary|regression
  threshold: 0.0005 # 仅用于trinary或过滤

train:
  model_family: "ensemble" # lstm|transformer|xgboost|ensemble
  seed: 123
  batch_size: 256
  epochs: 100
  lr: 1e-3
  optimizer: adamw
  l2: 1e-4
  device: "cpu" #or cuda
  ddp: false
  num_workers: 0
  early_stop_patience: 99
  class_weight: 1.0
  valid_metric: "acc" # acc|f1|auc|rmse|mae
  out_dir: "out/mid/SP0"
  optuna: false
  optuna_trails: 20

inference:
  device: cpu
  preload: {}
  watchlist: []
  interval_seconds: 60
  window: 32 


backtest:
  side: "longshort" # longonly|longshort
  trans_cost_bp: 1.0 # 单边基点
  slippage_bp: 0.5
  threshold_prob: 0.55 # 入场阈值
  vol_target: 0.02 # 日化目标波动